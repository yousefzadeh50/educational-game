<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>English for Schools - Prospect 3</title>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<style>
  :root{
    --bg:#0b1023;
    --card:#141a35;
    --text:#eef2ff;
    --muted:#b7c0e6;
    --accent:#6c5ce7;
    --accent2:#00d2ff;
    --accent3:#ff8c42;
    --shadow:0 10px 30px rgba(0,0,0,.35);
    --glow:0 0 18px rgba(108,92,231,.6), 0 0 28px rgba(0,210,255,.35);
  }
  *{box-sizing:border-box}
  body{
    margin:0;background:radial-gradient(1100px circle at 10% -10%,#13204d 0%,#0b1023 55%,#070b18 100%);
    color:var(--text);font-family:IRANSans,system-ui,-apple-system,"Segoe UI",Roboto,"SF Pro Text",Tahoma;
  }
  /* Header */
  header{
    position:relative;text-align:center;padding:28px 16px 20px;
  }
  .brand{
    font-weight:900;font-size:28px;letter-spacing:.5px;
    background:linear-gradient(135deg,#fff,#cfe0ff);-webkit-background-clip:text;background-clip:text;color:transparent;
    text-shadow:0 0 20px rgba(255,255,255,.12);
  }
  .series{
    margin-top:8px;font-size:18px;font-weight:700;
    background:linear-gradient(135deg,#6c5ce7,#00d2ff);-webkit-background-clip:text;background-clip:text;color:transparent;
    filter:drop-shadow(0 0 10px rgba(108,92,231,.4));
  }
  .sparkle{
    position:absolute;inset:0;pointer-events:none;background:
      radial-gradient(8px 8px at 12% 40%, rgba(255,255,255,.25), transparent 60%),
      radial-gradient(6px 6px at 88% 20%, rgba(255,255,255,.25), transparent 60%),
      radial-gradient(7px 7px at 18% 78%, rgba(255,255,255,.2), transparent 60%);
    opacity:.6;
  }

  /* Toolbar */
  .toolbar{
    display:flex;justify-content:space-between;align-items:center;padding:10px 16px;margin:0 auto;max-width:1080px;
  }
  .btn{
    padding:10px 14px;border:none;border-radius:14px;background:#1b234d;color:var(--text);cursor:pointer;font-weight:700;
    border:1px solid rgba(255,255,255,.08);transition:.2s transform,.2s box-shadow;
  }
  .btn:hover{transform:translateY(-1px);box-shadow:var(--shadow)}
  .btn.icon{display:flex;align-items:center;gap:8px}
  .btn.accent{background:linear-gradient(135deg,#6c5ce7,#00d2ff)}
  .btn.ghost{background:transparent;border:1px dashed rgba(255,255,255,.22)}
  .vol-label{font-size:12px;color:var(--muted);margin-left:8px}

  /* Start */
  .start{
    max-width:1080px;margin:0 auto;padding:12px 16px 22px
  }
  .intro-card{
    background:linear-gradient(180deg,rgba(20,26,53,.85),rgba(9,14,32,.85));border:1px solid rgba(255,255,255,.08);
    border-radius:22px;padding:18px;box-shadow:var(--glow)
  }
  .intro-title{font-size:18px;margin:0 0 10px}
  .topics{
    display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;margin-top:10px
  }
  .topic{
    background:linear-gradient(135deg,#1b2146,#111634);border:1px solid rgba(255,255,255,.07);border-radius:16px;padding:14px;
    cursor:pointer;transition:.2s transform,.2s box-shadow;display:flex;align-items:center;gap:10px
  }
  .topic:hover{transform:translateY(-2px);box-shadow:var(--shadow)}
  .badge{padding:6px 10px;border-radius:999px;background:#0e1330;color:var(--muted);font-size:12px;border:1px solid rgba(255,255,255,.08)}

  /* Lesson view */
  .lesson{
    display:none;max-width:1080px;margin:0 auto;padding:8px 16px 80px
  }
  .grid-cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:14px;margin-top:12px}
  .card{
    background:linear-gradient(180deg,rgba(27,33,74,.92),rgba(16,22,49,.92));
    border:1px solid rgba(255,255,255,.08);border-radius:20px;padding:16px;box-shadow:var(--shadow);position:relative;overflow:hidden
  }
  .card::after{
    content:"";position:absolute;inset:auto auto -40% -40%;width:180px;height:180px;border-radius:50%;
    background:radial-gradient(closest-side, rgba(255,255,255,.16), transparent 70%);
    transform:rotate(25deg);
  }
  .phrase{
    font-size:22px;font-weight:800;margin:0;color:#fff;text-shadow:0 4px 14px rgba(0,0,0,.35)
  }
  .meaning{
    margin:6px 0 10px;color:#ffe082;font-weight:700
  }
  .speak-btn{
    padding:6px 10px;border:none;border-radius:10px;background:#222a58;color:#fff;cursor:pointer;margin-top:8px;
    border:1px solid rgba(255,255,255,.1)
  }
  .examples{margin-top:10px}
  .ex{
    background:#0f1537;border:1px solid rgba(255,255,255,.06);border-radius:12px;padding:10px;margin:8px 0
  }
  .ex-en{font-size:15px;font-weight:700;color:#cfe0ff}
  .ex-fa{font-size:14px;color:#b9c3e2;margin-top:6px}
  .row{display:flex;justify-content:space-between;align-items:center;gap:8px;margin-top:8px}

  /* Designer card */
  .designer{
    position:fixed;left:16px;right:16px;bottom:16px;margin:0 auto;max-width:1080px;
    background:linear-gradient(135deg,rgba(108,92,231,.15),rgba(0,210,255,.12));
    border:1px solid rgba(255,255,255,.15);border-radius:18px;padding:10px 12px;backdrop-filter:blur(8px);box-shadow:var(--glow);
    display:flex;align-items:center;gap:12px
  }
  .avatar{
    width:60px;height:60px;border-radius:14px;background:linear-gradient(135deg,#6c5ce7,#00d2ff);
    display:flex;align-items:center;justify-content:center;color:#fff;font-weight:900;box-shadow:var(--glow)
  }
  .d-info{line-height:1.35}
  .d-name{font-weight:800}
  .d-role{color:var(--muted);font-size:13px}

  /* Modal help */
  .modal{position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;align-items:center;justify-content:center;padding:16px}
  .modal .box{width:min(780px,96vw);background:#141a35;border:1px solid rgba(255,255,255,.12);border-radius:18px;padding:16px}
  .modal h3{margin:0 0 6px}
  .modal p{color:var(--muted)}

  /* Back button */
  .nav{
    max-width:1080px;margin:0 auto;padding:0 16px 8px;display:none
  }
  .nav .btn{background:#1b2148}
</style>
</head>
<body>

<header>
  <div class="brand">English for Schools</div>
  <div class="series">Prospect 3</div>
  <div class="sparkle"></div>
</header>

<div class="toolbar">
  <button class="btn icon" id="musicBtn">ğŸµ Ù…ÙˆØ³ÛŒÙ‚ÛŒ Ø²Ù…ÛŒÙ†Ù‡ <span class="vol-label">(ØµØ¯Ø§ÛŒ Ú©Ù…)</span></button>
  <button class="btn ghost icon" id="helpBtn">â“ Ø±Ø§Ù‡Ù†Ù…Ø§</button>
</div>

<section class="start" id="start">
  <div class="intro-card">
    <h3 class="intro-title">Ù„ÛŒØ³Øª Ù…ÙˆØ¶ÙˆØ¹Ø§Øª Ø¯Ø±Ø³â€ŒÙ‡Ø§</h3>
    <div class="topics" id="topics"></div>
    <div class="row" style="margin-top:10px">
      <span class="badge">Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ØŒ ÛŒÚ© Ø¯Ø±Ø³ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†</span>
    </div>
  </div>
</section>

<div class="nav" id="nav">
  <button class="btn" id="backBtn">â†©ï¸ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù„ÛŒØ³Øª Ø¯Ø±Ø³â€ŒÙ‡Ø§</button>
</div>

<section class="lesson" id="lesson">
  <div class="grid-cards" id="cards"></div>
</section>

<!-- Designer card -->
<div class="designer">
  <div class="avatar">AR</div>
  <div class="d-info">
    <div class="d-name">Ø·Ø±Ø§Ø­: Ø¹Ø¨Ø¯Ø§Ù„Ø±Ù‘Ø³ÙˆÙ„</div>
    <div class="d-role">Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ø²ÛŒØ¨Ø§ØŒ ØªÙ„ÙØ¸ Ù‡Ù…Ø²Ù…Ø§Ù†ØŒ Ù…Ø«Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ø³Ø§Ø¯Ù‡ Ùˆ Ø¬Ø°Ø§Ø¨ØŒ Ù…ÙˆØ³ÛŒÙ‚ÛŒ Ùˆ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø¯Ùˆâ€ŒØ²Ø¨Ø§Ù†Ù‡</div>
  </div>
</div>

<!-- Help Modal -->
<div class="modal" id="helpModal">
  <div class="box">
    <h3>Ø±Ø§Ù‡Ù†Ù…Ø§</h3>
    <p>ÛŒÚ© Ø¯Ø±Ø³ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†. Ù‡Ø± Ø¹Ø¨Ø§Ø±Øª Ø¯Ø± ÛŒÚ© Ú©Ø§Ø¯Ø± Ø²ÛŒØ¨Ø§ Ø¨Ø§ ØªÙ„ÙØ¸ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ùˆ Ø³Ù‡ Ù…Ø«Ø§Ù„ Ø³Ø§Ø¯Ù‡ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯. Ø±ÙˆÛŒ Ø¢ÛŒÚ©ÙˆÙ† Ø¨Ù„Ù†Ø¯Ú¯Ùˆ Ú©Ù†Ø§Ø± Ù‡Ø± Ø¬Ù…Ù„Ù‡ Ú©Ù„ÛŒÚ© Ú©Ù† ØªØ§ ØªÙ„ÙØ¸ Ø´ÙˆØ¯.</p>
    <hr>
    <h3>Help (English)</h3>
    <p>Select a lesson. Each phrase card shows the phrase, automatic pronunciation, three simple example sentences with Persian translations, and a speaker to play each sentence.</p>
    <div style="margin-top:10px;text-align:left">
      <button class="btn" id="closeHelp">Ø¨Ø³ØªÙ† âœ•</button>
    </div>
  </div>
</div>

<script>
/* -------- Data from PDF (cleaned) -------- */
const lessons = [
  {
    id:"personality",
    title:"Lesson 1: Personality",
    phrases:[
      {en:"an angry kid", fa:"ÛŒÚ© Ø¨Ú†Ù‡ Ø¹ØµØ¨Ø§Ù†ÛŒ"},
      {en:"a brave soldier", fa:"ÛŒÚ© Ø³Ø±Ø¨Ø§Ø² Ø´Ø¬Ø§Ø¹"},
      {en:"a careless man", fa:"ÛŒÚ© Ù…Ø±Ø¯ Ø¨ÛŒâ€ŒØ¯Ù‚Øª"},
      {en:"a cruel boy", fa:"ÛŒÚ© Ù¾Ø³Ø± Ø¨ÛŒâ€ŒØ±Ø­Ù…"},
      {en:"a funny story", fa:"ÛŒÚ© Ø¯Ø§Ø³ØªØ§Ù† Ø¨Ø§Ù…Ø²Ù‡"},
      {en:"a neat person", fa:"ÛŒÚ© ÙØ±Ø¯ Ù…Ø±ØªØ¨"},
      {en:"a nervous boy", fa:"ÛŒÚ© Ù¾Ø³Ø± Ø¯Ù„â€ŒÙ†Ú¯Ø±Ø§Ù†"},
      {en:"a quiet place", fa:"ÛŒÚ© Ù…Ú©Ø§Ù† Ø¢Ø±Ø§Ù…"},
      {en:"a rude kid", fa:"ÛŒÚ© Ø¨Ú†Ù‡ Ø¨ÛŒâ€ŒØ§Ø¯Ø¨"},
      {en:"a selfish person", fa:"ÛŒÚ© ÙØ±Ø¯ Ø®ÙˆØ¯Ø®ÙˆØ§Ù‡"},
      {en:"a lazy person", fa:"ÛŒÚ© ÙØ±Ø¯ ØªÙ†Ø¨Ù„"},
      {en:"a shy girl", fa:"ÛŒÚ© Ø¯Ø®ØªØ± Ø®Ø¬Ø§Ù„ØªÛŒ"},
      {en:"a generous girl", fa:"ÛŒÚ© Ø¯Ø®ØªØ± Ø³Ø®Ø§ÙˆØªÙ…Ù†Ø¯"},
    ]
  },
  {
    id:"travel",
    title:"Lesson 2: Travel",
    phrases:[
      {en:"buy a ticket", fa:"Ø¨Ù„ÛŒØ· Ø®Ø±ÛŒØ¯Ù†"},
      {en:"check the passport", fa:"Ú¯Ø°Ø±Ù†Ø§Ù…Ù‡ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ø±Ø¯Ù†"},
      {en:"check in", fa:"ØªØ³ÙˆÛŒÙ‡ ÙˆØ±ÙˆØ¯ (Ú†Ú©â€ŒØ§ÛŒÙ†)"},
      {en:"check the timetable", fa:"Ø¬Ø¯ÙˆÙ„ Ø²Ù…Ø§Ù†â€ŒØ¨Ù†Ø¯ÛŒ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ø±Ø¯Ù†"},
      {en:"exchange money", fa:"Ù¾ÙˆÙ„ Ø±Ø§ ØªØ¨Ø¯ÛŒÙ„ Ú©Ø±Ø¯Ù†"},
      {en:"fill out a form", fa:"ÙØ±Ù… Ø±Ø§ Ù¾Ø± Ú©Ø±Ø¯Ù†"},
      {en:"book a hotel", fa:"Ù‡ØªÙ„ Ø±Ø²Ø±Ùˆ Ú©Ø±Ø¯Ù†"},
      {en:"pack for a trip", fa:"Ø¨Ø±Ø§ÛŒ Ø³ÙØ± Ø¨Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ú©Ø±Ø¯Ù†"},
      {en:"talk to a receptionist", fa:"Ø¨Ø§ Ù¾Ø°ÛŒØ±Ø´ ØµØ­Ø¨Øª Ú©Ø±Ø¯Ù†"},
      {en:"weigh the baggage", fa:"Ú†Ù…Ø¯Ø§Ù† Ø±Ø§ ÙˆØ²Ù† Ú©Ø±Ø¯Ù†"},
      {en:"baggage reclaim", fa:"ØªØ­ÙˆÛŒÙ„ Ú¯Ø±ÙØªÙ† Ø¨Ø§Ø±"},
      {en:"board the plane", fa:"Ø³ÙˆØ§Ø± Ù‡ÙˆØ§Ù¾ÛŒÙ…Ø§ Ø´Ø¯Ù†"},
      {en:"make a voyage", fa:"Ø³ÙØ± Ø¯Ø±ÛŒØ§ÛŒÛŒ Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯Ù†"},
      {en:"take an express train", fa:"Ø¨Ø§ Ù‚Ø·Ø§Ø± Ø³Ø±ÛŒØ¹â€ŒØ§Ù„Ø³ÛŒØ± Ø±ÙØªÙ†"},
      {en:"pay toll", fa:"Ø¹ÙˆØ§Ø±Ø¶ Ù¾Ø±Ø¯Ø§Ø®Øª Ú©Ø±Ø¯Ù†"},
    ]
  },
  {
    id:"festivals",
    title:"Lesson 3: Festivals & Ceremonies",
    phrases:[
      {en:"make lunch/dinner", fa:"Ù†Ø§Ù‡Ø§Ø±/Ø´Ø§Ù… Ø¯Ø±Ø³Øª Ú©Ø±Ø¯Ù†"},
      {en:"bake a cake", fa:"Ú©ÛŒÚ© Ù¾Ø®ØªÙ†"},
      {en:"set the table", fa:"Ù…ÛŒØ² Ø±Ø§ Ú†ÛŒØ¯Ù†"},
      {en:"sing the national anthem", fa:"Ø³Ø±ÙˆØ¯ Ù…Ù„ÛŒ Ø±Ø§ Ø®ÙˆØ§Ù†Ø¯Ù†"},
      {en:"hold a ceremony", fa:"Ù…Ø±Ø§Ø³Ù… Ø¨Ø±Ú¯Ø²Ø§Ø± Ú©Ø±Ø¯Ù†"},
      {en:"clear the table", fa:"Ø¬Ù…Ø¹ Ú©Ø±Ø¯Ù† Ù…ÛŒØ²"},
      {en:"watch fireworks", fa:"Ø¢ØªØ´â€ŒØ¨Ø§Ø²ÛŒ ØªÙ…Ø§Ø´Ø§ Ú©Ø±Ø¯Ù†"},
      {en:"read poems of Hafez", fa:"Ø®ÙˆØ§Ù†Ø¯Ù† Ø§Ø´Ø¹Ø§Ø± Ø­Ø§ÙØ¸"},
      {en:"wear special clothes", fa:"Ù„Ø¨Ø§Ø³â€ŒÙ‡Ø§ÛŒ Ø®Ø§Øµ Ù¾ÙˆØ´ÛŒØ¯Ù†"},
      {en:"go out on Nature Day", fa:"Ø±ÙˆØ² Ø·Ø¨ÛŒØ¹Øª Ø¨ÛŒØ±ÙˆÙ† Ø±ÙØªÙ†"},
      {en:"celebrate a religious holiday", fa:"ØªØ¹Ø·ÛŒÙ„Ø§Øª Ù…Ø°Ù‡Ø¨ÛŒ Ø±Ø§ Ø¬Ø´Ù† Ú¯Ø±ÙØªÙ†"},
      {en:"watch military parade", fa:"Ø±Ú˜Ù‡ Ù†Ø¸Ø§Ù…ÛŒ ØªÙ…Ø§Ø´Ø§ Ú©Ø±Ø¯Ù†"},
      {en:"commemorate martyrs", fa:"ÛŒØ§Ø¯ Ø´Ù‡Ø¯Ø§ Ø±Ø§ Ú¯Ø±Ø§Ù…ÛŒ Ø¯Ø§Ø´ØªÙ†"},
      {en:"Islamic-Iranian culture", fa:"ÙØ±Ù‡Ù†Ú¯ Ø§Ø³Ù„Ø§Ù…ÛŒ-Ø§ÛŒØ±Ø§Ù†ÛŒ"},
      {en:"Islamic revolution anniversary", fa:"Ø³Ø§Ù„Ú¯Ø±Ø¯ Ø§Ù†Ù‚Ù„Ø§Ø¨ Ø§Ø³Ù„Ø§Ù…ÛŒ"},
    ]
  },
  {
    id:"services",
    title:"Lesson 4: Services",
    phrases:[
      {en:"get on a bus", fa:"Ø³ÙˆØ§Ø± Ø§ØªÙˆØ¨ÙˆØ³ Ø´Ø¯Ù†"},
      {en:"get off a bus", fa:"Ø§Ø² Ø§ØªÙˆØ¨ÙˆØ³ Ù¾ÛŒØ§Ø¯Ù‡ Ø´Ø¯Ù†"},
      {en:"take out money from an ATM", fa:"Ø¨Ø±Ø¯Ø§Ø´Øª Ù¾ÙˆÙ„ Ø§Ø² Ø®ÙˆØ¯Ù¾Ø±Ø¯Ø§Ø²"},
      {en:"send an e-mail", fa:"Ø§ÛŒÙ…ÛŒÙ„ Ø§Ø±Ø³Ø§Ù„ Ú©Ø±Ø¯Ù†"},
      {en:"hire a taxi", fa:"ØªØ§Ú©Ø³ÛŒ Ú©Ø±Ø§ÛŒÙ‡ Ú©Ø±Ø¯Ù†"},
      {en:"open an account", fa:"Ø­Ø³Ø§Ø¨ Ø¨Ø§Ø² Ú©Ø±Ø¯Ù†"},
      {en:"put out fire", fa:"Ø¢ØªØ´ Ø±Ø§ Ø®Ø§Ù…ÙˆØ´ Ú©Ø±Ø¯Ù†"},
      {en:"recharge your E-ticket", fa:"Ø´Ø§Ø±Ú˜ Ú©Ø±Ø¯Ù† Ø¨Ù„ÛŒØ· Ø§Ù„Ú©ØªØ±ÙˆÙ†ÛŒÚ©"},
      {en:"call the emergency (115)", fa:"ØªÙ…Ø§Ø³ Ø¨Ø§ Ø§ÙˆØ±Ú˜Ø§Ù†Ø³ (Û±Û±Ûµ)"},
      {en:"ask the information desk", fa:"Ø§Ø² Ù…ÛŒØ² Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø±Ø³ÛŒØ¯Ù†"},
      {en:"donate blood", fa:"Ø§Ù‡Ø¯Ø§ÛŒ Ø®ÙˆÙ†"},
      {en:"do voluntary work", fa:"Ú©Ø§Ø± Ø¯Ø§ÙˆØ·Ù„Ø¨Ø§Ù†Ù‡ Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯Ù†"},
      {en:"help charity", fa:"Ú©Ù…Ú© Ø¨Ù‡ Ø®ÛŒØ±ÛŒÙ‡"},
      {en:"bring to the ER", fa:"Ø¨Ù‡ Ø§ÙˆØ±Ú˜Ø§Ù†Ø³ Ø¢ÙˆØ±Ø¯Ù†"},
      {en:"keep the city clean", fa:"Ø´Ù‡Ø± Ø±Ø§ ØªÙ…ÛŒØ² Ù†Ú¯Ù‡ Ø¯Ø§Ø´ØªÙ†"},
    ]
  },
  {
    id:"media",
    title:"Lesson 5: Media",
    phrases:[
      {en:"interview somebody", fa:"Ù…ØµØ§Ø­Ø¨Ù‡ Ú©Ø±Ø¯Ù† Ø¨Ø§ Ú©Ø³ÛŒ"},
      {en:"text a message", fa:"Ù¾ÛŒØ§Ù…Ú© ÙØ±Ø³ØªØ§Ø¯Ù†"},
      {en:"receive an e-mail", fa:"Ø§ÛŒÙ…ÛŒÙ„ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯Ù†"},
      {en:"update a blog", fa:"Ø¨Ù„Ø§Ú¯ Ø±Ø§ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ú©Ø±Ø¯Ù†"},
      {en:"participate in an online course", fa:"Ø´Ø±Ú©Øª Ø¯Ø± Ø¯ÙˆØ±Ù‡ Ø¢Ù†Ù„Ø§ÛŒÙ†"},
      {en:"connect to the Internet", fa:"Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø§ÛŒÙ†ØªØ±Ù†Øª"},
      {en:"download something from the internet", fa:"Ø¯Ø§Ù†Ù„ÙˆØ¯ Ú†ÛŒØ²ÛŒ Ø§Ø² Ø§ÛŒÙ†ØªØ±Ù†Øª"},
      {en:"attend a TV program", fa:"Ø´Ø±Ú©Øª Ø¯Ø± Ø¨Ø±Ù†Ø§Ù…Ù‡ ØªÙ„ÙˆÛŒØ²ÛŒÙˆÙ†ÛŒ"},
      {en:"install a computer dictionary", fa:"Ù†ØµØ¨ ÙØ±Ù‡Ù†Ú¯ Ù„ØºØª Ú©Ø§Ù…Ù¾ÛŒÙˆØªØ±ÛŒ"},
      {en:"look at the newsstand", fa:"Ø¯ÛŒØ¯Ù† Ø¯Ú©Ù‡ Ø±ÙˆØ²Ù†Ø§Ù…Ù‡"},
      {en:"watch a quiz show", fa:"ØªÙ…Ø§Ø´Ø§ÛŒ Ù…Ø³Ø§Ø¨Ù‚Ù‡ ØªÙ„ÙˆÛŒØ²ÛŒÙˆÙ†ÛŒ"},
      {en:"see a war movie", fa:"ØªÙ…Ø§Ø´Ø§ÛŒ ÙÛŒÙ„Ù… Ø¬Ù†Ú¯ÛŒ"},
      {en:"change the TV channels", fa:"Ø¹ÙˆØ¶ Ú©Ø±Ø¯Ù† Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§ÛŒ ØªÙ„ÙˆÛŒØ²ÛŒÙˆÙ†"},
      {en:"install an antivirus program", fa:"Ù†ØµØ¨ Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø¶Ø¯ÙˆÛŒØ±ÙˆØ³"},
    ]
  },
  {
    id:"health",
    title:"Lesson 6: Health and Injuries",
    phrases:[
      {en:"She burned her hand.", fa:"Ø§Ùˆ Ø¯Ø³ØªØ´ Ø±Ø§ Ø³ÙˆØ²Ø§Ù†Ø¯."},
      {en:"He hit his head on the door.", fa:"Ø§Ùˆ Ø³Ø±Ø´ Ø±Ø§ Ø¨Ù‡ Ø¯Ø± Ø²Ø¯."},
      {en:"He broke his leg.", fa:"Ø§Ùˆ Ù¾Ø§ÛŒØ´ Ø±Ø§ Ø´Ú©Ø³Øª."},
      {en:"It is bleeding.", fa:"Ø®ÙˆÙ†â€ŒØ±ÛŒØ²ÛŒ Ø¯Ø§Ø±Ø¯."},
      {en:"It hurts a lot.", fa:"Ø®ÛŒÙ„ÛŒ Ø¯Ø±Ø¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯."},
      {en:"Stick a plaster on the wound.", fa:"Ø±ÙˆÛŒ Ø²Ø®Ù… Ú†Ø³Ø¨ Ø²Ø®Ù…ÛŒ Ø¨Ø²Ù†."},
      {en:"I hurt my knee.", fa:"Ø²Ø§Ù†ÙˆÛŒÙ… Ø¢Ø³ÛŒØ¨ Ø¯ÛŒØ¯."},
      {en:"She cut her finger.", fa:"Ø§Ùˆ Ø§Ù†Ú¯Ø´ØªØ´ Ø±Ø§ Ø¨Ø±ÛŒØ¯."},
      {en:"She takes care of her child.", fa:"Ø§Ùˆ Ø§Ø² ÙØ±Ø²Ù†Ø¯Ø´ Ù…Ø±Ø§Ù‚Ø¨Øª Ù…ÛŒâ€ŒÚ©Ù†Ø¯."},
      {en:"He has some bruises.", fa:"Ø§Ùˆ Ú†Ù†Ø¯ Ú©Ø¨ÙˆØ¯ÛŒ Ø¯Ø§Ø±Ø¯."},
      {en:"He has a black eye.", fa:"Ø§Ùˆ Ú†Ø´Ù…Ø´ Ú©Ø¨ÙˆØ¯ Ø´Ø¯Ù‡ Ø§Ø³Øª."},
      {en:"He had a car crash.", fa:"Ø§Ùˆ ØªØµØ§Ø¯Ù Ú©Ø±Ø¯."},
      {en:"He has a scar.", fa:"Ø§Ùˆ Ø¬Ø§ÛŒ Ø²Ø®Ù… Ø¯Ø§Ø±Ø¯."},
      {en:"She had a heart attack.", fa:"Ø§Ùˆ Ø³Ú©ØªÙ‡ Ù‚Ù„Ø¨ÛŒ Ú©Ø±Ø¯."},
      {en:"He has his leg in a cast.", fa:"Ù¾Ø§ÛŒØ´ Ø¯Ø± Ú¯Ú† Ø§Ø³Øª."},
    ]
  }
];

/* -------- Example generator (3 simple sentences per phrase) -------- */
function makeExamples(phrase){
  // Basic templates adapted to the phrase; lightweight grammar handling
  const p = phrase.en;
  const base = p.replace(/\.$/,'');
  const nouns = ["We","I","They","He","She"];
  const places = ["at school","at home","at the airport","in the city","on the weekend"];
  const times = ["today","every day","yesterday","this morning","tonight"];

  const ex1 = `${nouns[0]} ${base} ${places[2]}.`;
  const ex2 = `${nouns[1]} ${base} ${times[0]}.`;
  const ex3 = `${nouns[2]} ${base} ${places[3]} ${times[4]}.`;

  // Simple Persian translations (illustrative)
  const fa1 = `Ù…Ø§ ${phrase.fa} ${places[2].replace('the ','')} Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯ÛŒÙ…/Ø¯ÛŒØ¯ÛŒÙ….`;
  const fa2 = `Ù…Ù† Ø§Ù…Ø±ÙˆØ² ${phrase.fa} Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯Ù…/Ø¯ÛŒØ¯Ù….`;
  const fa3 = `Ø¢Ù†â€ŒÙ‡Ø§ Ø§Ù…Ø´Ø¨ Ø¯Ø± Ø´Ù‡Ø± ${phrase.fa} Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯Ù†Ø¯/Ø¯ÛŒØ¯Ù†Ø¯.`;

  return [
    {en:ex1, fa:fa1},
    {en:ex2, fa:fa2},
    {en:ex3, fa:fa3}
  ];
}

/* -------- UI rendering -------- */
const topicsEl = document.getElementById('topics');
const startEl = document.getElementById('start');
const lessonEl = document.getElementById('lesson');
const cardsEl = document.getElementById('cards');
const navEl = document.getElementById('nav');
const backBtn = document.getElementById('backBtn');

function renderTopics(){
  topicsEl.innerHTML = "";
  lessons.forEach(ls=>{
    const div = document.createElement('div');
    div.className = "topic";
    div.innerHTML = `
      <div style="flex:1">
        <div style="font-weight:800">${ls.title}</div>
        <div class="badge">${ls.phrases.length} Ø¹Ø¨Ø§Ø±Øª</div>
      </div>
      <button class="btn accent">Ø´Ø±ÙˆØ¹</button>
    `;
    div.onclick = ()=>openLesson(ls.id);
    topicsEl.appendChild(div);
  });
}

function speak(text, lang="en-US"){
  try{
    const u = new SpeechSynthesisUtterance(text);
    u.lang = lang; speechSynthesis.speak(u);
  }catch{}
}

function openLesson(id){
  const ls = lessons.find(l=>l.id===id);
  if(!ls) return;
  startEl.style.display="none";
  navEl.style.display="block";
  lessonEl.style.display="block";
  cardsEl.innerHTML = "";

  ls.phrases.forEach(ph=>{
    const examples = makeExamples(ph);
    const card = document.createElement('div');
    card.className = "card";
    card.innerHTML = `
      <div class="row" style="justify-content:flex-start;gap:10px">
        <h3 class="phrase">${ph.en}</h3>
        <button class="speak-btn">ğŸ”Š ØªÙ„ÙØ¸ Ø¹Ø¨Ø§Ø±Øª</button>
      </div>
      <div class="meaning">${ph.fa}</div>

      <div class="examples">
        ${examples.map((ex,i)=>`
          <div class="ex">
            <div class="row">
              <div class="ex-en">${i+1}. ${ex.en}</div>
              <button class="speak-btn">ğŸ”Š</button>
            </div>
            <div class="ex-fa">${ex.fa}</div>
          </div>
        `).join('')}
      </div>
    `;
    cardsEl.appendChild(card);

    // Speak phrase on load of card (gentle delay)
    setTimeout(()=>speak(ph.en), 150);

    // Bind phrase speak button
    const phraseBtn = card.querySelectorAll(".speak-btn")[0];
    phraseBtn.onclick = ()=>speak(ph.en);

    // Bind example speak buttons
    const exButtons = card.querySelectorAll(".ex .speak-btn");
    exButtons.forEach((btn, idx)=>{
      btn.onclick = ()=>speak(examples[idx].en);
    });
  });
}

backBtn.onclick = ()=>{
  lessonEl.style.display="none";
  navEl.style.display="none";
  startEl.style.display="block";
  cardsEl.innerHTML = "";
};

/* -------- Music & Help -------- */
const musicBtn = document.getElementById('musicBtn');
const helpBtn = document.getElementById('helpBtn');
const helpModal = document.getElementById('helpModal');
const closeHelp = document.getElementById('closeHelp');

const music = new Audio("https://cdn.pixabay.com/download/audio/2022/03/30/audio_c2e7205c4b.mp3?filename=soft-piano-ambient-140300.mp3");
music.loop = true; music.volume = 0.15;

musicBtn.onclick = ()=>{
  if(music.paused){ music.play(); musicBtn.textContent = "â¸ï¸ ØªÙˆÙ‚Ù Ù…ÙˆØ³ÛŒÙ‚ÛŒ"; }
  else { music.pause(); musicBtn.textContent = "ğŸµ Ù…ÙˆØ³ÛŒÙ‚ÛŒ Ø²Ù…ÛŒÙ†Ù‡ (ØµØ¯Ø§ÛŒ Ú©Ù…)"; }
};

helpBtn.onclick = ()=>{ helpModal.style.display="flex"; };
closeHelp.onclick = ()=>{ helpModal.style.display="none"; };

/* -------- Init -------- */
renderTopics();
</script>
</body>
</html>
